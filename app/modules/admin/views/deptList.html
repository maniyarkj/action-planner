<page-title ng-if="layoutOptions.pageTitles" title="departmentListRes.listOfDepartments"></page-title>

<!-- Responsive Table -->
<div class="row">
	<div class="col-md-12">
		<div class="row">
			<div class="col-xs-6 text-left">
				<div class="text-left">
					<button class="btn btn-primary" ui-sref="app.admin-department">{{ "departmentListRes.addNewDepartment" | translate }}</button>
				</div>
			</div>
			<div class="col-xs-6 text-right">
				<div class="text-right">
					<button class="btn btn-primary" ng-click="departmentListCtrl.expand = !departmentListCtrl.expand"><span class="glyphicon glyphicon-filter"></span>&nbsp;{{ "departmentListRes.filterDepartment" | translate }}</button>
				</div>
			</div>
		</div>

		<div class="panel panel-default"  ng-if="departmentListCtrl.expand">
			<div class="filterDepartmentList">
				<form class="form-vertical" name="departListFilterForm" role="form" class="validate" novalidate>
					<div class="row">
						<div class="col-sm-4">
							<div class="form-group">
								<label class="control-label" for="department_id"> {{ "departmentListRes.labels.departmentId" | translate }}</label>
								<input type="text" ng-model="departmentListCtrl.deptId" name="department_id" class="form-control" placeholder="Department Id"/>
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-group">
								<label class="control-label" for="department_name"> {{ "departmentListRes.labels.departmentName" | translate }}</label>
								<input type="text" ng-model="departmentListCtrl.deptName" name="department_name" class="form-control" placeholder="Department Name"/>
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-group">
								<label class="control-label" for="org_level"> {{ "departmentListRes.labels.orgLevel" | translate }}</label>
                <select class="form-control" id="org_level" name="org_level"
  								ng-required="true"
  								ng-model="departmentListCtrl.orgLevel"
  								ng-options="option.name for option in departmentListCtrl.orgLevelList track by option.orgLevelId">
  								<option value="">{{ "departmentRes.defaultOrgLevelSelectControl" | translate}}</option>
  							</select>
							</div>
						</div>
					</div>
					<div class="row text-right">
						<div class="col-xs-12">
							<div class="form-group">
								<label class="control-label" for="status">&nbsp;</label><br />
								<button class="btn btn-primary" ng-click="departmentListCtrl.searchWithFilter()">{{ "departmentListRes.labels.search" | translate }}</button>
								<button class="btn btn-primary" ng-click="departmentListCtrl.resetFilter()">{{ "departmentListRes.labels.reset" | translate }}</button>
							</div>
						</div>
					</div>
				</form>
			</div>
		</div>

		<div class="dataTables_wrapper form-inline dt-bootstrap">
			<div class="row">
				<div class="col-xs-6">
					<div class="dataTables_length">
						<label>Show
							<select class="form-control input-sm" id="page_size"
								ng-model="departmentListCtrl.selectedPageSize"
								ng-options="option.value for option in departmentListCtrl.pageSizeObj track by option.value" ng-change="departmentListCtrl.changePageSize()">
							</select>
							entries
						</label>
					</div>
				</div>
				<div class="col-xs-6 text-right">
					<input type="text" ng-model="searchStr" class="form-control" placeholder="Search"/>
				</div>
			</div>
		</div>

		<div class="panel panel-default">
			<div class="panel-body">
				<div class="table-responsive" ng-if="departmentListCtrl.result.length <= 0">
					<p>
						{{ "departmentListRes.noDepartmentData" | translate }}
					</p>
				</div>
				<div class="table-responsive" ng-if="departmentListCtrl.result.length > 0">
					<table cellspacing="0" class="table table-small-font table-bordered table-striped">
						<thead>
							<tr>
                <th>{{ "departmentListRes.labels.departmentId" | translate }}</th>
								<th>{{ "departmentListRes.labels.departmentName" | translate }}</th>
								<th>{{ "departmentListRes.labels.orgLevel" | translate }}</th>
							</tr>
						</thead>
						<tbody>
              <tr ng-repeat="data in departmentListCtrl.result">
                <td>{{data.deptId}}</td>
								<td><a class="editModeRedirection" ng-click="departmentListCtrl.redirectToEditMode(data)">{{data.deptName}}</a></td>
                <td>{{data.orgLevel}}</td>
              </tr>
            </tbody>
					</table>
				</div>

				<div class="form-inline" ng-if="departmentListCtrl.result.length > 0">
					<div class="col-xs-6 text-left">
					</div>
					<div class="col-xs-6 text-right">
						<ul uib-pagination
							boundary-links="false"
							total-items="departmentListCtrl.totalItems"
							ng-model="departmentListCtrl.currentPage"
							class="pagination-sm"
							items-per-page = "departmentListCtrl.maxSize"
							previous-text="&lsaquo;"
							next-text="&rsaquo;"
							first-text="&laquo;"
							ng-change="departmentListCtrl.pageChanged(departmentListCtrl.currentPage)"
							last-text="&raquo;">
						</ul>
					</div>
			</div>
		</div>
	</div>
</div>
